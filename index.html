<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AGL Sales Toolkits</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden; /* 防止整个页面出现滚动条 */
            font-family: Arial, sans-serif;
        }
        
        #contentContainer {
            height: 100vh;
            width: 100%;
            display: flex;
            flex-direction: column;
        }
        
        #loading, #errorMessage {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            background-color: #f5f5f5;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <div id="contentContainer">
        <div id="loading">
            <p>Loading secure content...</p>
        </div>
        
        <div id="errorMessage" style="display: none;">
            <p>Content loading failed. Please refresh the page.</p>
        </div>
    </div>

    <script>
        // ===== 保护代码 =====
        
        // 1. 反调试技术
        function setupAntiDebugging() {
            // 检测开发者工具
            let devToolsOpen = false;
            
            // 定时检查
            setInterval(() => {
                const before = new Date().getTime();
                (function(){}).constructor("debugger")();
                const after = new Date().getTime();
                
                if (after - before > 100) {
                    devToolsOpen = true;
                    handleDevToolsDetection();
                }
            }, 1000);
            
            // 监听键盘事件防止F12等
            document.addEventListener('keydown', (e) => {
                if (e.key === 'F12' || 
                    (e.ctrlKey && e.shiftKey && e.key === 'I') || 
                    (e.ctrlKey && e.key === 'U')) {
                    e.preventDefault();
                    handleDevToolsDetection();
                }
            });
            
            // 禁用右键菜单
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
            });
        }
        
        function handleDevToolsDetection() {
            document.body.innerHTML = '<div style="display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column;"><h2>Access Restricted</h2><p>Please refresh the page to continue.</p></div>';
            throw new Error('Developer tools detected');
        }
        
        // 2. URL混淆和动态构建
        function getContentUrl() {
            // 在这里设置content.html的路径
            // 如果content.html在同一目录下，直接使用文件名
            const contentUrl = 'https://vivyan924.github.io/test-yannya2/content.html';
            
            // 添加随机参数防止缓存和追踪
            const randomParam = 'v=' + Math.random().toString(36).substring(2, 15);
            
            // 返回构建的URL
            return contentUrl + '?' + randomParam;
        }
        
        // 3. 内容加载函数
        function loadContent() {
            try {
                // 获取混淆后的URL
                const contentUrl = getContentUrl();
                
                // 创建iframe加载内容
                const iframe = document.createElement('iframe');
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.border = 'none';
                iframe.src = contentUrl;
                
                // 添加到DOM
                document.getElementById('contentContainer').appendChild(iframe);
                
                // 设置加载完成后的处理
                iframe.onload = function() {
                    document.getElementById('loading').style.display = 'none';
                };
                
                // 设置加载错误处理
                iframe.onerror = function() {
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('errorMessage').style.display = 'flex';
                };
                
            } catch (error) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('errorMessage').style.display = 'flex';
            }
        }
        
        // 4. 初始化函数
        function init() {
            // 设置反调试
            setupAntiDebugging();
            
            // 延迟加载内容，增加分析难度
            setTimeout(loadContent, 1000);
        }
        
        // 5. 启动初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>